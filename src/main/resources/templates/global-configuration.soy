{namespace plugin.helmPr}

/**
 * @param configuration HelmConfiguration object
 */
{template .globalConfigurationPage}
<html>
<head>
    <meta name="decorator" content="atl.admin">
    <meta name="activeTab" content="helm-pr-global-configuration">
    <title>Helm PR Configuration</title>
</head>
<body>
<div id="page">
	<h2>Helm PR Configuration</h2>
	{call aui.form.form}
		{param action: '#' /}
		{param enctype: 'multipart/form-data' /}
		{param content}
			{call aui.form.fieldGroup}
				{param content}
					{call aui.form.label}
						{param content}
							<aui-label for="active">Active</aui-label>
						{/param}
						{param isRequired: true /}
					{/call}
					<aui-toggle id="active" label="is global active" {if $configuration.active}checked="checked"{/if}></aui-toggle>
				{/param}
			{/call}
			{call aui.form.radioField}
				{param id: 'helm-binary' /}
				{param legendContent: 'Helm binary' /}
				{param isRequired: true /}
				{param fields: [
					[ 'id': 'system-helm-binary', 'labelText': 'System', 'value': 'SYSTEM', 'isChecked': $configuration.helmBinaryType == 'SYSTEM', 'isDisabled': $configuration.systemVersion == '', 'descriptionText': $configuration.systemVersion ],
					[ 'id': 'embedded-helm-binary', 'labelText': 'Embedded', 'value': 'EMBEDDED', 'isChecked': $configuration.helmBinaryType == 'EMBEDDED', 'isDisabled': $configuration.embeddedVersion == '', 'descriptionText': $configuration.embeddedVersion ],
					[ 'id': 'uploaded-helm-binary', 'labelText': 'Uploaded', 'value': 'UPLOADED', 'isChecked': $configuration.helmBinaryType == 'UPLOADED', 'isDisabled': $configuration.uploadedVersion == '', 'descriptionText': $configuration.uploadedVersion ]
				] /}				
			{/call}
			{call aui.form.fileField}
				{param id: 'binary-upload' /}
				{param labelContent: 'Upload helm binary' /}
			{/call}
			{call aui.form.radioField}
				{param id: 'helmfile-binary' /}
				{param legendContent: 'Helmfile binary' /}
				{param isRequired: true /}
				{param fields: [
					[ 'id': 'system-helmfile-binary', 'labelText': 'System', 'value': 'SYSTEM', 'isChecked': $configuration.helmfileBinaryType == 'SYSTEM', 'isDisabled': $configuration.helmfileSystemVersion == '', 'descriptionText': $configuration.helmfileSystemVersion ],
					[ 'id': 'embedded-helmfile-binary', 'labelText': 'Embedded', 'value': 'EMBEDDED', 'isChecked': $configuration.helmfileBinaryType == 'EMBEDDED', 'isDisabled': $configuration.helmfileEmbeddedVersion == '', 'descriptionText': $configuration.helmfileEmbeddedVersion ],
					[ 'id': 'uploaded-helmfile-binary', 'labelText': 'Uploaded', 'value': 'UPLOADED', 'isChecked': $configuration.helmfileBinaryType == 'UPLOADED', 'isDisabled': $configuration.helmfileUploadedVersion == '', 'descriptionText': $configuration.helmfileUploadedVersion ]
				] /}				
			{/call}
			{call aui.form.fileField}
				{param id: 'helmfile-binary-upload' /}
				{param labelContent: 'Upload helmfile binary' /}
			{/call}
			{call aui.form.radioField}
				{param id: 'kustomize-binary' /}
				{param legendContent: 'Kustomize binary' /}
				{param isRequired: true /}
				{param fields: [
					[ 'id': 'system-kustomize-binary', 'labelText': 'System', 'value': 'SYSTEM', 'isChecked': $configuration.kustomizeBinaryType == 'SYSTEM', 'isDisabled': $configuration.kustomizeSystemVersion == '', 'descriptionText': $configuration.kustomizeSystemVersion ],
					[ 'id': 'embedded-kustomize-binary', 'labelText': 'Embedded', 'value': 'EMBEDDED', 'isChecked': $configuration.kustomizeBinaryType == 'EMBEDDED', 'isDisabled': $configuration.kustomizeEmbeddedVersion == '', 'descriptionText': $configuration.kustomizeEmbeddedVersion ],
					[ 'id': 'uploaded-kustomize-binary', 'labelText': 'Uploaded', 'value': 'UPLOADED', 'isChecked': $configuration.kustomizeBinaryType == 'UPLOADED', 'isDisabled': $configuration.kustomizeUploadedVersion == '', 'descriptionText': $configuration.kustomizeUploadedVersion ]
				] /}				
			{/call}
			{call aui.form.fileField}
				{param id: 'kustomize-binary-upload' /}
				{param labelContent: 'Upload kustomize binary' /}
			{/call}
			{call .configurationFormContent}
				{param configuration: $configuration /}
			{/call}
		{/param}
	{/call}
</div>
</body>
</html>
{/template}
